"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[943],{943:function(n,e,r){r.r(e),r.d(e,{default:function(){return kn}});var o,t,i,a,d,s,c,x,p,l,u,f,b,h,g,m,w,Z,j,v,y,k,P=r(2791),C=r(9434),I=r(4270),z=r(3634),L=r(6916),_=function(n){return n.contacts},E=function(n){return n.filter},F=function(n){return n.undelete},A=(0,L.P1)([_,E],(function(n,e){var r=n.items;return r?r.filter((function(n){return n.name.toLowerCase().includes(e.toLowerCase())})):r})),q=r(3313),O=r(20),T=r(691),Y=r(168),K=r(6444),N=K.ZP.li(o||(o=(0,Y.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  /* flex-wrap: wrap; */\n\n  width: 100%;\n  height: 94px;\n  margin: 16px 0;\n  padding: 12px 20px;\n  background-color: #fff;\n  border-radius: 12px;\n  box-shadow: #2b40554d 0px 6px 16px 0px;\n  /* box-shadow: rgba(0, 0, 0, 0.25) 0px 6px 16px 0px; */\n"]))),S=K.ZP.button(t||(t=(0,Y.Z)(["\n  display: flex;\n  align-items: center;\n  height: 30px;\n  color: #fff;\n  background-color: #2b4055d0;\n  border: none;\n  border-radius: 4px;\n  box-shadow: rgba(99, 99, 99, 0.7) 0px 2px 5px 0px;\n\n  :hover {\n    background-color: #2b4055f0;\n    box-shadow: rgba(99, 99, 99, 0.9) 0px 2px 5px 1px;\n  }\n  :disabled {\n    background-color: #2b405580;\n    box-shadow: rgba(99, 99, 99, 0.4) 0px 2px 5px 0px;\n  }\n"]))),G=K.ZP.p(i||(i=(0,Y.Z)(["\n  /* flex-grow: 1; */\n  padding: 4px 0;\n  margin: 0 8px;\n\n  :first-of-type {\n    /* flex-grow: 0; */\n    font-weight: 500;\n  }\n"]))),U=K.ZP.div(a||(a=(0,Y.Z)(["\n  position: relative;\n  width: 64px;\n  height: 64px;\n  /* overflow: hidden; */\n  background-color: #2b40554d;\n  border-radius: 50%;\n\n  ::after {\n    content: '';\n    position: absolute;\n    right: 0;\n    display: inline-block;\n    width: 24px;\n    height: 24px;\n    background-color: #0080ff;\n    background-color: #bfc5cc;\n    border-radius: 50%;\n    border: solid 4px #fff;\n  }\n"]))),$=K.ZP.div(d||(d=(0,Y.Z)(["\n  flex-grow: 1;\n  margin: 0 24px;\n"]))),B=r(3329),D=function(n){var e=n.contact,r=(0,C.I0)(),o=(0,C.v9)(F).modalIsOpen;return(0,B.jsxs)(N,{children:[(0,B.jsx)(U,{}),(0,B.jsxs)($,{children:[(0,B.jsxs)(G,{children:[e.name,":"]}),(0,B.jsx)(G,{children:e.number})]}),(0,B.jsx)(S,{type:"button",disabled:o,id:e.id,onClick:function(n){var e=n.currentTarget.id;r((0,O.z)(e)),r((0,T.Ok)(e)),r((0,T.LI)(5)),r((0,T.gP)(!0))},children:(0,B.jsx)(q.Ybf,{size:18})})]})},J=K.ZP.ul(s||(s=(0,Y.Z)(["\n  width: 520px;\n  padding: 0 30px;\n  transform: scale(0.9) translateY(-10%);\n"]))),R=function(){var n=(0,C.v9)(A);return(0,B.jsx)(J,{children:n.map((function(n){return(0,B.jsx)(D,{contact:n},n.id)}))})},V=r(4808),W=K.ZP.div(c||(c=(0,Y.Z)(["\n  margin-top: 30px;\n  padding: 0 30px;\n"]))),X=K.ZP.input(x||(x=(0,Y.Z)(["\n  width: 240px;\n  height: 28px;\n  margin: 8px 0;\n  border-radius: 4px;\n  border: 1px solid #a0a0a050;\n  outline: none;\n\n  :focus {\n    border: 2px solid #2b407580;\n  }\n"]))),H=K.ZP.label(p||(p=(0,Y.Z)(["\n  display: flex;\n  flex-direction: column;\n  font-weight: 500;\n"]))),M=function(){var n=(0,C.I0)(),e=(0,C.v9)(E);return(0,B.jsx)(W,{children:(0,B.jsxs)(H,{htmlFor:"filter",children:["Find contacts by name",(0,B.jsx)(X,{type:"text",name:"filter",onChange:function(e){return n((0,V.T)(e.currentTarget.value.trim()))},value:e})]})})},Q=r(4164),nn=K.ZP.div(l||(l=(0,Y.Z)(["\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  width: 100vw;\n  text-align: center;\n  color: #2b4055;\n  background-color: #e4e7ea;\n  box-shadow: rgba(99, 99, 99, 0.7) 0px -2px 5px 0px;\n  animation: isAppearing 500ms ease-in-out;\n\n  @keyframes isAppearing {\n    0% {\n      transform: translateY(100%);\n    }\n    100% {\n      transform: translateY(0);\n    }\n  }\n"]))),en=K.ZP.div(u||(u=(0,Y.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),rn=K.ZP.button(f||(f=(0,Y.Z)(["\n  padding: 0 12px;  \n  min-height: 30px;\n  color: #fff;\n  background-color: #2b4055d0;\n  border: none;\n  border-radius: 4px;\n  box-shadow: rgba(99, 99, 99, 0.7) 0px 2px 5px 0px;\n\n  :hover {\n    background-color: #2b4055f0;\n    box-shadow: rgba(99, 99, 99, 0.9) 0px 2px 5px 1px;\n  }\n"]))),on=K.ZP.span(b||(b=(0,Y.Z)(["\n  padding: 0 4px;\n  color: #2b4055d0;\n  font-weight: 700;\n  font-size: 24px;\n"]))),tn=K.ZP.p(h||(h=(0,Y.Z)(["\n  margin: 16px;\n  font-weight: 500;\n"]))),an=K.ZP.p(g||(g=(0,Y.Z)(["\n  position: absolute;\n  bottom: -6px;\n  /* left: calc(16px + 390px / 2); */\n  left: calc(50% - 111px / 2);\n  transform: translateX(-50%);\n  margin-top: 0;\n  font-size: 10px;\n  color: #2b4055b0;\n"]))),dn=document.querySelector("#modal-root"),sn=function(){var n=(0,C.I0)(),e=(0,C.v9)(F),r=e.timerCounter,o=e.contactId;(0,P.useEffect)((function(){var e=setInterval((function(){r<=0&&(n((0,T.gP)(!1)),n((0,z.GK)(o))),n((0,T.LI)(r-1))}),1e3);return function(){clearInterval(e)}}),[o,n,r]),(0,P.useEffect)((function(){var e=function(e){"Escape"===e.code&&(n((0,T.gP)(!1)),n((0,z.GK)(o)))};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[o,n]);return(0,Q.createPortal)((0,B.jsxs)(nn,{children:[(0,B.jsxs)(en,{children:[(0,B.jsxs)(tn,{children:["The contact will be permanently deleted in",(0,B.jsx)(on,{children:r}),"seconds"]}),(0,B.jsx)(rn,{type:"button",onClick:function(){n((0,z.yF)()),n((0,T.gP)(!1)),n((0,T.Ok)(null))},children:"Undo delete"})]}),(0,B.jsx)(an,{children:"instant deletion by clicking on Esc"})]}),dn)},cn=r(8402),xn=K.ZP.div(m||(m=(0,Y.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 12px;\n  margin-left: 30px;\n  margin-bottom: 12px;\n  font-size: 24px;\n  font-weight: 700;\n  color: #2b4055b0;\n"]))),pn=function(){return(0,B.jsxs)(xn,{children:["Loading",(0,B.jsx)(cn.s5,{strokeColor:"#2b4055d0",strokeWidth:"5",animationDuration:"0.75",width:"36",visible:!0})]})},ln=r(5705),un=r(2797),fn=r(5218),bn=(0,K.ZP)(ln.l0)(w||(w=(0,Y.Z)(["\n  display: inline-flex;\n  flex-direction: column;\n  gap: 12px;\n  padding: 30px;\n  max-width: 500px;\n  min-height: 300px;\n  background-color: #2b405520;\n  background-color: #ffffff40;\n  border-radius: 4px;\n  box-shadow: rgba(99, 99, 99, 0.7) 0px 2px 5px 0px;\n"]))),hn=K.ZP.label(Z||(Z=(0,Y.Z)(["\n  display: flex;\n  flex-direction: column;\n  height: 82px;\n"]))),gn=K.ZP.label(j||(j=(0,Y.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-weight: 500;\n  color: #2b4055d0;\n"]))),mn=(0,K.ZP)(ln.gN)(v||(v=(0,Y.Z)(["  \n  width: 240px;\n  height: 28px;\n  margin: 8px 0;\n  border-radius: 4px;\n  border: 1px solid #a0a0a050;\n  outline: none;\n\n  :focus {\n    border: 2px solid #2b407580;\n  }\n"]))),wn=(0,K.ZP)(ln.Bc)(y||(y=(0,Y.Z)(["\n  width: 240px;\n  margin-left: 30px;\n  color: red;\n"]))),Zn=K.ZP.button(k||(k=(0,Y.Z)(["\n  margin: auto;\n  padding: 0 12px;\n  height: 30px;\n  color: #fff;\n  background-color: #2b4055d0;\n  border: none;\n  border-radius: 4px;\n  box-shadow: rgba(99, 99, 99, 0.7) 0px 2px 5px 0px;\n\n  :hover {\n    background-color: #2b4055f0;\n    box-shadow: rgba(99, 99, 99, 0.9) 0px 2px 5px 1px;\n  }\n"]))),jn={name:"",number:""},vn=un.Ry().shape({name:un.Z_().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name may contain only letters, apostrophe('), dash and spaces").required(),number:un.Z_().matches(/^\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}?$/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +").required()}),yn=function(){var n=(0,C.I0)(),e=(0,C.v9)(_).items;return(0,B.jsx)(ln.J9,{initialValues:jn,onSubmit:function(r,o){var t=o.resetForm;if(e.some((function(n){return n.name.toLowerCase()===r.name.trim().toLowerCase()})))return fn.ZP.error("".concat(r.name," is already in contacts."));n((0,z.uK)(r)),t()},validationSchema:vn,children:(0,B.jsxs)(bn,{children:[(0,B.jsxs)(hn,{children:[(0,B.jsxs)(gn,{htmlFor:"name",children:[(0,B.jsx)(q.fzv,{size:22}),(0,B.jsx)(mn,{type:"text",name:"name",placeholder:"Name"})]}),(0,B.jsx)(wn,{component:"div",name:"name"})]}),(0,B.jsxs)(hn,{children:[(0,B.jsxs)(gn,{htmlFor:"number",children:[(0,B.jsx)(q.tUt,{size:20}),(0,B.jsx)(mn,{type:"tel",name:"number",placeholder:"Phone number"})]}),(0,B.jsx)(wn,{component:"div",name:"number"})]}),(0,B.jsx)(Zn,{type:"submit",children:"Add contact"})]})})};function kn(){var n=(0,C.I0)(),e=(0,C.v9)(_),r=e.items,o=e.isLoading,t=e.error,i=(0,C.v9)(F).modalIsOpen;return(0,P.useEffect)((function(){n((0,z.yF)())}),[n]),(0,B.jsxs)("div",{children:[(0,B.jsx)(I.q,{children:(0,B.jsx)("title",{children:"Contacts"})}),(0,B.jsx)(yn,{}),(0,B.jsx)(M,{}),r.length>0&&(0,B.jsx)(R,{}),o&&!t&&(0,B.jsx)(pn,{}),t&&(0,B.jsx)("p",{children:t}),i&&(0,B.jsx)(sn,{})]})}}}]);
//# sourceMappingURL=943.91dd0b51.chunk.js.map